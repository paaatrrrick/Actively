<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/default.css">
    <link rel="stylesheet" href="/stylesheets/viewprofile.css">
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">
    <title>Profile</title>
</head>

<body>
    <a href="/dashboard" class='btn' id='register'>Dashboard</a>
    <a href="/logout" id='login'>Logout</a> -->

<% layout('/layouts/boilerplate') %>
    <link rel="stylesheet" href="/stylesheets/default.css">
    <link rel="stylesheet" href="/stylesheets/viewprofile.css">
    <div class="body">
        <div class="mainHolder">
            <div class="topSection">
                <div id='parent'>
                    <img src="<%= (user.profileImg) ? user.profileImg : img%>" alt="" id="preview" width=300
                        height=300 />
                </div>
                <div class="column">
                    <div class="row">
                        <div class="row2Column alignCenter">
                            <h1 class="h1" id='first'>
                                <%=user.firstName%>
                            </h1>
                            <h1 class="h1">
                                <%=user.lastName%>
                            </h1>
                            <% if(!isFriend){ %>
                                <button id="addFriend" onclick='friendUpdate("<%=user.id%>", "addFriend", "addFriend")'
                                    class="friendBtn addFriend">Friend
                                    +</button>
                                <% } else { %>
                                    <button id="removeFriend"
                                        onclick='friendUpdate("<%=user.id%>", "removeFriend", "removeFriend")'
                                        class="friendBtn removeFriend">Unfriend</button>
                                    <% } %>
                        </div>
                    </div>

                    <div class="socialMediaHolder">
                        <div class="row alignCenter socialDiv instagramDiv">
                            <img src="/images/ig.png" alt="facebook" class='social'>
                            <h6 class="socialInput" id="instagram">
                                <%=(user.instagramLink && user.instagramLink !='link your facebook' ) ?
                                    user.instagramLink : 'No link shared' %>
                            </h6>
                        </div>
                        <div class="row alignCenter socialDiv facebookDiv">
                            <img src="/images/fb.png" alt="facebook" class="social">
                            <h6 class="socialInput" id="facebook">
                                <%=(user.facebookLink && user.facebookLink !='link your facebook' ) ? user.facebookLink
                                    : 'No link shared' %>
                            </h6>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column w100">
                <h2 class="inputLabel h2">Biography</h2>
                <h6 id="description" cols="8" rows="3" class="input1">
                    <%= (user.profileBio) ? user.profileBio : 'Share about your sports interests.' %>
                </h6>
            </div>
            <div class="cityAge w100 m">
                <div class="inputRow">
                    <h2 class="inputLabel mr h2">
                        <%=user.city %>, <%=user.state %>
                    </h2>
                </div>
                <div class="inputRow">
                    <h2 class="inputLabel mr h2">Age:</h2>
                    <h6 class="input1 pr" id="age">
                        <%= user.age %>
                    </h6>
                </div>
                <% if (user.publicSocials==false) { %>

                    <%}else { %>
                        <div class="row">
                            <h2 class="inputLabel mr h2">Number:</h2>
                            <h6 class="input1 pr">
                                <%=user.phoneNumber%>
                            </h6>
                        </div>
                        <% } %>

            </div>
        </div>
    </div>

    <script>
        async function friendUpdate(id, location, btnId) {
            const data = {
                id: id
            };
            await fetch(`/${location}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            const button = document.getElementById(btnId)
            if (location === 'addFriend') {
                button.innerHTML = 'Added!'
            } else {
                button.innerHTML = 'Removed'
            }
            button.onclick = null;
        }
    </script>